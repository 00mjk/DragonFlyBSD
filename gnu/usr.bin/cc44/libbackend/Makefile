.include "../Makefile.inc"
.include "../Makefile.langs"

CFLAGS+=	-I${.CURDIR}/../config -I.
CFLAGS+=	-DTARGET_NAME=\"${target_machine}\"

LIB=		backend
INTERNALLIB=	YES


# stuff below copied verbatim from Makefile

# The GC method to be used on this system.
GGC=ggc-page.o

host_hook_obj=host-default.o

OBJS-common = \
	insn-attrtab.o \
	insn-automata.o \
	insn-emit.o \
	insn-extract.o \
	insn-modes.o \
	insn-opinit.o \
	insn-output.o \
	insn-peep.o \
	insn-preds.o \
	insn-recog.o \
	$(GGC) \
	alias.o \
	alloc-pool.o \
	auto-inc-dec.o \
	bb-reorder.o \
	bitmap.o \
	bt-load.o \
	builtins.o \
	caller-save.o \
	calls.o \
	cfg.o \
	cfganal.o \
	cfgbuild.o \
	cfgcleanup.o \
	cfgexpand.o \
	cfghooks.o \
	cfglayout.o \
	cfgloop.o \
	cfgloopanal.o \
	cfgloopmanip.o \
	cfgrtl.o \
	combine.o \
	combine-stack-adj.o \
	convert.o \
	coverage.o \
	cse.o \
	cselib.o \
	dbxout.o \
	dbgcnt.o \
	dce.o \
	ddg.o \
	debug.o \
	df-byte-scan.o \
	df-core.o \
	df-problems.o \
	df-scan.o \
	dfp.o \
	diagnostic.o \
	dojump.o \
	dominance.o \
	domwalk.o \
	double-int.o \
	dse.o \
	dwarf2asm.o \
	dwarf2out.o \
	ebitmap.o \
	emit-rtl.o \
	et-forest.o \
	except.o \
	explow.o \
	expmed.o \
	expr.o \
	final.o \
	fixed-value.o \
	fold-const.o \
	function.o \
	fwprop.o \
	gcse.o \
	genrtl.o \
	ggc-common.o \
	gimple.o \
	gimple-iterator.o \
	gimple-low.o \
	gimple-pretty-print.o \
	gimplify.o \
	graph.o \
	graphds.o \
	graphite.o \
	gtype-desc.o \
	haifa-sched.o \
	hooks.o \
	ifcvt.o \
	init-regs.o \
	integrate.o \
	intl.o \
	ira.o \
	ira-build.o \
	ira-costs.o \
	ira-conflicts.o \
	ira-color.o \
	ira-emit.o \
	ira-lives.o \
	jump.o \
	lambda-code.o \
	lambda-mat.o \
	lambda-trans.o \
	langhooks.o \
	lcm.o \
	lists.o \
	loop-doloop.o \
	loop-init.o \
	loop-invariant.o \
	loop-iv.o \
	loop-unroll.o \
	loop-unswitch.o \
	lower-subreg.o \
	mcf.o \
	mode-switching.o \
	modulo-sched.o \
	omega.o \
	omp-low.o \
	optabs.o \
	options.o \
	opts-common.o \
	opts.o \
	params.o \
	passes.o \
	pointer-set.o \
	postreload-gcse.o \
	postreload.o \
	predict.o \
	pretty-print.o \
	print-rtl.o \
	print-tree.o \
	profile.o \
	real.o \
	recog.o \
	reg-stack.o \
	reginfo.o \
	regmove.o \
	regrename.o \
	regstat.o \
	reload.o \
	reload1.o \
	reorg.o \
	resource.o \
	rtl-error.o \
	rtl-factoring.o \
	rtl.o \
	rtlanal.o \
	rtlhooks.o \
	sbitmap.o \
	sched-deps.o \
	sched-ebb.o \
	sched-rgn.o \
	sched-vis.o \
	sdbout.o \
	see.o \
	sel-sched-ir.o \
	sel-sched-dump.o \
	sel-sched.o \
	simplify-rtx.o \
	sparseset.o \
	sreal.o \
	stack-ptr-mod.o \
	statistics.o \
	stmt.o \
	stor-layout.o \
	stringpool.o \
	targhooks.o \
	timevar.o \
	toplev.o \
	tracer.o \
	tree-affine.o \
	tree-call-cdce.o \
	tree-cfg.o \
	tree-cfgcleanup.o \
	tree-chrec.o \
	tree-complex.o \
	tree-data-ref.o \
	tree-dfa.o \
	tree-dump.o \
	tree-eh.o \
	tree-if-conv.o \
	tree-into-ssa.o \
	tree-iterator.o \
	tree-loop-distribution.o \
	tree-loop-linear.o \
	tree-nested.o \
	tree-nrv.o \
	tree-object-size.o \
	tree-optimize.o \
	tree-outof-ssa.o \
	tree-parloops.o \
	tree-phinodes.o \
	tree-predcom.o \
	tree-pretty-print.o \
	tree-profile.o \
	tree-scalar-evolution.o \
	tree-sra.o \
	tree-switch-conversion.o \
	tree-ssa-address.o \
	tree-ssa-alias.o \
	tree-ssa-ccp.o \
	tree-ssa-coalesce.o \
	tree-ssa-copy.o \
	tree-ssa-copyrename.o \
	tree-ssa-dce.o \
	tree-ssa-dom.o \
	tree-ssa-dse.o \
	tree-ssa-forwprop.o \
	tree-ssa-ifcombine.o \
	tree-ssa-live.o \
	tree-ssa-loop-ch.o \
	tree-ssa-loop-im.o \
	tree-ssa-loop-ivcanon.o \
	tree-ssa-loop-ivopts.o \
	tree-ssa-loop-manip.o \
	tree-ssa-loop-niter.o \
	tree-ssa-loop-prefetch.o \
	tree-ssa-loop-unswitch.o \
	tree-ssa-loop.o \
	tree-ssa-math-opts.o \
	tree-ssa-operands.o \
	tree-ssa-phiopt.o \
	tree-ssa-phiprop.o \
	tree-ssa-pre.o \
	tree-ssa-propagate.o \
	tree-ssa-reassoc.o \
	tree-ssa-sccvn.o \
	tree-ssa-sink.o \
	tree-ssa-structalias.o \
	tree-ssa-ter.o \
	tree-ssa-threadedge.o \
	tree-ssa-threadupdate.o \
	tree-ssa-uncprop.o \
	tree-ssa.o \
	tree-ssanames.o \
	tree-stdarg.o \
	tree-tailcall.o \
	tree-vect-analyze.o \
	tree-vect-generic.o \
	tree-vect-patterns.o \
	tree-vect-transform.o \
	tree-vectorizer.o \
	tree-vrp.o \
	tree.o \
	value-prof.o \
	var-tracking.o \
	varasm.o \
	varray.o \
	vec.o \
	version.o \
	vmsdbgout.o \
	web.o \
	xcoffout.o

# Target object files.
OBJS-md = $(out_object_file)

# Language independent object files which are not used by all languages.
OBJS-archive = \
	$(EXTRA_OBJS) \
	$(host_hook_obj) \
	cgraph.o \
	cgraphbuild.o \
	cgraphunit.o \
	cppdefault.o \
	incpath.o \
	ipa-cp.o \
	ipa-inline.o \
	ipa-prop.o \
	ipa-pure-const.o \
	ipa-reference.o \
	ipa-struct-reorg.o \
	ipa-type-escape.o \
	ipa-utils.o \
	ipa.o \
	matrix-reorg.o \
	prefix.o \
	tree-inline.o \
	tree-nomudflap.o \
	varpool.o

OBJS-all = $(OBJS-common) $(OBJS-md) $(OBJS-archive)

SRCS=	${OBJS-all:.o=.c}

.include <bsd.lib.mk>
