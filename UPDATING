$DragonFly: src/UPDATING,v 1.5 2003/09/09 16:49:25 dillon Exp $

Updating Information for DragonFly users.

This file should warn you of any pitfalls which you might need to work around
when trying to update your DragonFly system.

If you discover any problem, please contact the bugs@lists.dragonflybsd.org
mailing list with the details.

------------------------------------------------------------------------------

> Compiling DragonFly
---------------------

Compiling DragonFly requires an ISO C90 or higher compliant compiler.
Compilers which support this are, amongst others: The GNU C Compiler, The
Intel C++ Compiler, and The TenDRA Compiler.

> Include files
---------------

Due to the source tree reorganization header files have moved to different
locations.  The ufs/ufs directory, for example, now can be found at vfs/ufs.
ufs/ffs can be found in vfs/ufs as well.

Best thing to do would be to rm -rf /usr/include and from /usr/src do a 'make
includes'.  This should repopulate your entire tree.

> Kerberos IV
-------------

Kerberos IV (eBones) was removed from the tree, please consider moving to
Kerberos 5 (Heimdal).

> FreeBSD and DragonFly ports
-----------------------------

DragonFly will eventually have its own package management system but at the
moment we leverage off of the FreeBSD ports system.  You should maintain
/usr/ports from the FreeBSD cvs repository via cvsup just like you do now.

DragonFly has its own 'port overrides' hierarchy in /usr/dfports.  You can
check this out of the DragonFly cvs repository using:

cd /usr
cvs -R -d /cvs checkout dfports

You may wish to use a consolidated distfiles directory, in which case you
should make /usr/dfports/distfiles a softlink to your existing distfiles
directory (typically /usr/ports/distfiles).

Be sure that you have installed 'relpath' from the DragonFly sources
(/usr/src/usr.bin/relpath) as well as the updated /usr/share/mk files from
/usr/src/share/mk.  As a test you can cd into /usr/ports/sysutils/cpdup and
build the port.  Dragonfly should contain an override and you should see a
warning message that the DragonFly override is being build instead when you
build it from the FreeBSD ports.

